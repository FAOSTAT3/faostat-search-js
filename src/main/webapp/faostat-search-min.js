if(!window.FAOSTATSearch){window.FAOSTATSearch={prefix:"http://168.202.28.214:8080/faostat-search-js/",gatewayURL:"",list:"",codes:"",baseurlcodes:"",baseurlwds:"",datasource:"",lang:"E",valuesResults:"",items:"",elements:"",theme:"faostat",singleResultBaseURL:"search-single-result2.html",singleResultUI:"",init:function(a,b){if(b!=null&&b.length>0){FAOSTATSearch.lang=b}$.getJSON(FAOSTATSearch.prefix+"config/faostat-search-configuration.json",function(d){FAOSTATSearch.baseurlcodes=d.baseurlcodes;FAOSTATSearch.baseurlwds=d.baseurlwds;FAOSTATSearch.datasource=d.datasource;FAOSTATSearch.gatewayURL=d.gatewayURL;FAOSTATSearch.I18N_URL=d.I18N_URL;var c="";switch(FAOSTATSearch.lang){case"F":c="fr";break;case"S":c="es";break;default:c="en";break}$.i18n.properties({name:"I18N",path:FAOSTATSearch.I18N_URL,mode:"both",language:c,callback:function(){$("#container").load(FAOSTATSearch.prefix+"search-ui2.html",function(){FAOSTATSearch.initUI(a)})}})});$.ajax({type:"GET",url:FAOSTATSearch.prefix+FAOSTATSearch.singleResultBaseURL,success:function(c){FAOSTATSearch.singleResultUI=c}})},initUI:function(a){$("#search-button").powerTip({placement:"e"});$("#search-filter-areas-showhide").powerTip({placement:"e"});$("#searchbox").keypress(function(b){if(b.which==13){FAOSTATSearch.searchValue()}});$("#search-button").bind("click",function(){FAOSTATSearch.searchValue()});$("#searchbox").on("autocompleteselect",function(b,c){FAOSTATSearch.searchValue()});list=new Array();codes={};$.ajax({type:"GET",url:"http://"+FAOSTATSearch.baseurlcodes+"/bletchley/rest/codes/all/items/"+FAOSTATSearch.datasource+"/null/"+FAOSTATSearch.lang,dataType:"json",success:function(b){var c=0;codes=b;var e="";for(var d=0;d<b.length;d++){if(e!=b[d].label){list.push(b[d].label);e=b[d].label}}$.ajax({type:"GET",url:"http://"+FAOSTATSearch.baseurlcodes+"/bletchley/rest/codes/all/elements/"+FAOSTATSearch.datasource+"/null/"+FAOSTATSearch.lang,dataType:"json",success:function(f){codes=codes.concat(f);var h="";for(var g=0;g<f.length;g++){if(h!=f[g].label){list.push(f[g].label);h=f[g].label}}if(a!=null&&a!=""){FAOSTATSearch.searchValue(a);$("#searchbox").val(a)}},error:function(g,f,h){alert(g.status+", "+f+", "+h)}})},error:function(e,d,f){alert(e.status+", "+d+", "+f)}});$("#searchbox").autocomplete({source:list});$("#search-items").bind("click",function(){FAOSTATSearch.searchByItem()});$("#search-elements").bind("click",function(){FAOSTATSearch.searchByElement()});$(".search-areas-tab").jqxTabs({width:300,height:200,position:"top",animationType:"fade",selectionTracker:"checked",theme:FAOSTATSearch.theme});$(".search-download-button").jqxButton({width:"75",height:"25"});$("#search-filter-areas-showhide").click(function(){$("#search-filter-areas-container").slideToggle()});$("#search-filter-years-showhide").click(function(){$("#search-filter-years-container").slideToggle()});$("#search-tree-showhide").click(function(){$("#search-tree-container").slideToggle()});$("#search-tree").bind("select",function(d){var b=d.args;var c=$("#search-tree").jqxTree("getItem",b.element);$(window).scrollTop($("#searchbox").offset().top);if(c.parentElement!=null&&c.hasItems==false){FAOSTATSearch.filterResultsByDomain(c.value)}else{FAOSTATSearch.filterResultsByGroup(c.value)}});$("#search-tree-select-all").click(function(b){$.each(FAOSTATSearch.valuesResults,function(c,d){$("#search-results_"+d.suffix).css("display","block")})})},populateGrid:function(c,a,b){$.ajax({type:"GET",url:"http://"+FAOSTATSearch.baseurlcodes+"/bletchley/rest/codes/"+c+"/"+FAOSTATSearch.datasource+"/"+b+"/"+FAOSTATSearch.language,dataType:"json",success:function(d){var g=new Array();for(var e=0;e<d.length;e++){var j={};j.label=d[e].label;j.code=d[e].code;g[e]=j}var f={localdata:g,datatype:"array"};var h=new $.jqx.dataAdapter(f);$("#"+a).jqxGrid({width:299,height:165,source:h,columnsresize:true,showheader:false,selectionmode:"multiplerowsextended",columns:[{text:"Label",datafield:"label"}],theme:FAOSTATSearch.theme})},error:function(e,d,f){}})},searchValue:function(d){FAOSTATSearch.valuesResults=new Array();var e="";if(d!=null){e=d}else{e=$("#searchbox").val()}FAOSTATSEARCH_STATS.search(e);$("#search-title-type").empty();$("#search-title-type").append("Results for <b>"+e+"</b>");if(e.length<=2){alert("The word to search is too short")}if(e.length>2){$("#searchbox").autocomplete("close");var c=new Array();$.each(codes,function(g,f){if(f.label.toLowerCase().indexOf(e.toLowerCase())!=-1){c.push(f)}});if(c.length==0){var b=new Array();var a=e.match(/\w+/g);for(i=0;i<a.length;i++){if(a[i].length>3){b.push(a[i])}}$.each(codes,function(g,f){for(i=0;i<b.length;i++){if(f.label.toLowerCase().indexOf(b[i].toLowerCase())!=-1){c.push(f)}}})}items=FAOSTATSearch.searchCheckCategories(c,"items");elements=FAOSTATSearch.searchCheckCategories(c,"elements");if(items!=""&&items!=null){$("#search-items").css("display","inline-block")}else{$("#search-items").css("display","none")}if(elements!=""&&elements!=null){$("#search-elements").css("display","inline-block")}else{$("#search-elements").css("display","none")}if(items!=""){$("#search-content").css("display","inline");$("#search-no-values").css("display","none");FAOSTATSearch.searchByItem()}else{if(elements!=""){$("#search-content").css("display","inline");$("#search-no-values").css("display","none");FAOSTATSearch.searchByElement()}else{document.getElementById("search-no-values").innerHTML=$.i18n.prop("_no_results_available");$("#search-content").css("display","none");$("#search-no-values").css("display","block")}}}},searchCheckCategories:function(c,b){results="";for(var a=0;a<c.length;a++){if(c[a].type==b){results+=c[a].code+","}}results=results.slice(0,-1);return results},searchByItem:function(){$("#search-items").addClass("search-categories-label-selected");$("#search-elements").removeClass("search-categories-label-selected");var a=this;$.ajax({type:"GET",url:"http://"+FAOSTATSearch.baseurlcodes+"/bletchley/rest/codes/search/"+items+"/items/"+FAOSTATSearch.datasource+"/"+FAOSTATSearch.lang,dataType:"json",success:function(b){a.buildFilters(b);a.buildSearchOutput(b,"items")},error:function(e,d,f){alert(e.status+", "+d+", "+f)}})},searchByElement:function(){$("#search-elements").addClass("search-categories-label-selected");$("#search-items").removeClass("search-categories-label-selected");var a=this;$.ajax({type:"GET",url:"http://"+FAOSTATSearch.baseurlcodes+"/bletchley/rest/codes/search/"+elements+"/elements/"+FAOSTATSearch.datasource+"/"+FAOSTATSearch.lang,dataType:"json",success:function(b){a.buildFilters(b);a.buildSearchOutput(b,"elements")},error:function(e,d,f){alert(e.status+", "+d+", "+f)}})},buildFilters:function(a){$("#search-years-range").rangeSlider({bounds:{min:1961,max:2050}},{defaultValues:{min:1961,max:2011}},{step:1});FAOSTATSearch.buildTree(a)},buildTree:function(e){var k="";var l="";var d=0;var b=100;var g="[";for(var h=0;h<e.length;h++){if(k!=e[h].gc){d++;g+="{";g+='"id": "'+e[h].gc+'",';g+='"value": "'+e[h].gc+'",';g+='"text": "'+CORE.breakLabel(e[h].gn)+'",';g+='"parentid": "-1"';g+="}";g+=",";k=e[h].gc}if(l!=e[h].dc){b++;g+="{";g+='"id": "'+e[h].dc+'-dc",';g+='"value": "'+e[h].dc+'",';g+='"text": "'+CORE.breakLabel(e[h].dn)+'",';g+='"parentid": "'+e[h].gc+'"';g+="}";g+=",";l=e[h].dc}}g=g.slice(0,-1);g+="]";var a={datatype:"json",datafields:[{name:"id"},{name:"parentid"},{name:"value"},{name:"text"}],id:"id",localdata:g};var f="";var j=new $.jqx.dataAdapter(a);j.dataBind();var c=j.getRecordsHierarchy("id","parentid","items",[{name:"text",map:"label"}]);$("#search-tree").jqxTree({source:c,theme:f});$("#search-tree").jqxTree("expandAll")},buildSearchOutput:function(b,e){$("#search-results").empty();var a=[];var f="";var d=0;a.push(b[0]);f=b[0].code;for(var c=1;c<b.length;c++){if(f!=b[c].code){this.buildSearchValueOutput(a,e);f=b[c].code;a=[];a.push(b[c]);d++}else{if(c!=0){a.push(b[c])}}}this.buildSearchValueOutput(a,e);d++},buildSearchValueOutput:function(b,e){var f="";var a=[];var d=0;a.push(b[0]);f=b[0].gc;for(var c=1;c<b.length;c++){if(f!=b[c].gc){this.buildSearchSingleOutput(a,e);f=b[c].gc;a=[];a.push(b[c]);d++}else{if(c!=0){a.push(b[c])}}}this.buildSearchSingleOutput(a,e);d++},buildSearchSingleOutput:function(c,f){var a="";var b=[];var e=0;b.push(c[0]);a=c[0].dc;for(var d=1;d<c.length;d++){if(a!=c[d].dc){this.buildSearchSingleBoxOutput(b,f);a=c[d].dc;b=[];b.push(c[d]);e++}else{if(d!=0){b.push(c[d])}}}this.buildSearchSingleBoxOutput(b,f);e++},buildSearchSingleBoxOutput:function(a,b){var d=String.fromCharCode(65+Math.floor(Math.random()*26));var e=d+Date.now();$("#search-results").append("<div id='search-results_"+e+"'><div>");var c=new FAOSTATSearchSingleResult();c.init(e,a,b);FAOSTATSearch.valuesResults.push(c)},filterResultsByDomain:function(b){for(var a=0;a<FAOSTATSearch.valuesResults.length;a++){var c=FAOSTATSearch.valuesResults[a];if(c.values[0].dc!=b){$("#search-results_"+c.suffix).hide()}else{$("#search-results_"+c.suffix).show()}}},filterResultsByGroup:function(a){$.each(FAOSTATSearch.valuesResults,function(b,c){if(c.values[0].gc!=a){$("#search-results_"+c.suffix).hide()}else{$("#search-results_"+c.suffix).show()}})}}}var FAOSTATSearchSingleResult=function(){var a={values:"",suffix:"",type:"",init:function(d,b,c){this.values=b;this.suffix=d;this.type=c;$("#search-results_"+d).append(FAOSTATSearch.singleResultUI);this.replaceIDs(d)},replaceIDs:function(e){var d=$('[id$="_REPLACE"]');for(var c=0;c<d.length;c++){var b=d[c].id;var f=b.substring(0,b.indexOf("_REPLACE"))+"_"+e;$("#"+d[c].id).attr("id",f)}this.initUI(e)},initUI:function(g){$("#single-result-export_"+g).powerTip({placement:"e"});$("#single-result-preview_"+g).powerTip({placement:"e"});$("#single-result-preview_"+g).powerTip({placement:"e"});var j=this;var e=this.values[0].code;var c=this.values[0].label;var b=this.values[0].gn;var f=this.values[0].dn;var h=this.values[0].dc;$("#single-result-title_"+g).append(c);$("#single-result-code_"+g).append(e);$("#single-result-group_"+g).append(b+" - ");$("#single-result-domain_"+g).append(f);$("#single-result-domain_"+g).bind("click",function(){FAOSTATSEARCH_STATS.goToDownload(h);window.open("http://"+FAOSTATSearch.gatewayURL+"/faostat-gateway/go/to/download/"+j.values[0].gc+"/"+j.values[0].dc+"/"+FAOSTATSearch.lang,"_self",false)});$("#single-result-go-to-download_"+g).bind("click",function(){FAOSTATSEARCH_STATS.goToDownload(h);window.open("http://"+FAOSTATSearch.gatewayURL+"/faostat-gateway/go/to/download/"+j.values[0].gc+"/"+j.values[0].dc+"/"+FAOSTATSearch.lang,"_self",false)});for(var d=0;d<this.values.length;d++){$("#single-result-elements_"+g).append(this.values[d].en);if(d<this.values.length-1){$("#single-result-elements_"+g).append(" | ")}}$("#single-result-export_"+g).bind("click",function(){FAOSTATExport.exportXLS(j.values,g,j.type)});$("#single-result-export_"+g).powerTip({placement:"s"});$("#single-result-preview_"+g).bind("click",function(){FAOSTATExport.showPreview(j.values,g,j.type)});$("#single-result-preview_"+g).powerTip({placement:"s"})}};return a};if(!window.FAOSTATExport){window.FAOSTATExport={json:{},cssFilename:"",thousandSeparator:",",decimalSeparator:".",decimalNumbers:"2",showFlags:false,showCodes:false,showUnits:false,showNullValues:false,valueColumnIndex:-1,summary_countries_map:new Array(),summary_elements_map:new Array(),summary_items_map:new Array(),summary_years_map:new Array(),limit:true,tablelimit:10,values:"",type:"",showPreview:function(a,c,b){this.limit=10;this.values=a;this.type=b;this.startProcedure(c,"preview")},exportXLS:function(a,c,b){this.limit=false;this.values=a;this.type=b;this.startProcedure(c,"export")},startProcedure:function(c,a){var b=this.domains();if(b=="FT"||b=="TM"){this.createJSONTradeMatrix()}else{this.createJSONStandard()}this.createTable(c,a)},createTable:function(c,a){var b={};b.datasource=FAOSTATSearch.datasource;b.thousandSeparator=FAOSTATExport.thousandSeparator;b.decimalSeparator=FAOSTATExport.decimalSeparator;b.decimalNumbers=FAOSTATExport.decimalNumbers;b.json=JSON.stringify(FAOSTATExport.json);b.cssFilename=FAOSTATExport.cssFilename;b.valueIndex=FAOSTATExport.valueColumnIndex;var d="html";if(a=="export"){FAOSTATSEARCH_STATS.search("EXPORT DATA");d="excel"}else{FAOSTATSEARCH_STATS.search("SHOW DATA");$("#search-table_"+c).empty();$("#search-table_"+c).show();$("#search-table_"+c).append('<div class="loading"></div>')}if(a=="preview"){$.ajax({type:"POST",url:"http://"+FAOSTATSearch.baseurlwds+"/wds/rest/table/"+d,data:b,success:function(e){$("#search-table_"+c).empty();$("#search-table_"+c).hide();$("#search-table_"+c).append(e);$("#search-table_"+c).slideDown();$("#search-table_hide_"+c).css("display","block");$("#search-table_hide_"+c).bind("click",function(){$("#search-table_hide_"+c).slideUp();$("#search-table_"+c).slideUp()})},error:function(f,e,g){}})}else{$("#datasource_WQ").val(FAOSTATSearch.datasource);$("#thousandSeparator_WQ").val(FAOSTATExport.thousandSeparator);$("#decimalSeparator_WQ").val(FAOSTATExport.decimalSeparator);$("#decimalNumbers_WQ").val(FAOSTATExport.decimalNumbers);$("#json_WQ").val(JSON.stringify(FAOSTATExport.json));$("#cssFilename_WQ").val("");$("#valueIndex_WQ").val(null);$("#quote_WQ").val("");$("#title_WQ").val("");$("#subtitle_WQ").val("");document.excelFormWithQuotes.submit()}},createJSONTradeMatrix:function(){FAOSTATExport.json.selects=[{aggregation:null,column:"DOM.DomainName"+FAOSTATSearch.lang,alias:"Domain"}];FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"A1.AreaName"+FAOSTATSearch.lang,alias:"Reporter_Area"};if(FAOSTATExport.showCodes){FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"D.ReporterAreaCode",alias:"Reporter_Area_Code"}}FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"A2.AreaName"+FAOSTATSearch.lang,alias:"Partner_Area"};if(FAOSTATExport.showCodes){FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"D.PartnerAreaCode",alias:"Partner_Area_Code"}}if(FAOSTATExport.showCodes){FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"D.ItemCode",alias:"Item_Code"}}FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"I.ItemName"+FAOSTATSearch.lang,alias:"Item"};if(FAOSTATExport.showCodes){FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"D.ElementCode",alias:"Element_Code"}}FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"E.ElementName"+FAOSTATSearch.lang,alias:"Element"};FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"D.Year",alias:"Year"};if(FAOSTATExport.showUnits){FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"E.UnitName"+FAOSTATSearch.lang,alias:"Unit"}}FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"D.Value",alias:"Value"};if(FAOSTATExport.showFlags){FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"D.Flag",alias:"Flag"}}FAOSTATExport.valueColumnIndex=FAOSTATExport.getValueColumnIndex(FAOSTATExport.json);FAOSTATExport.json.froms=[{column:"TradeMatrix",alias:"D"},{column:"Item",alias:"I"},{column:"Element",alias:"E"},{column:"Area",alias:"A1"},{column:"Area",alias:"A2"},{column:"Domain",alias:"DOM"}];var e=this.domains();var d=this.elemens();var b=this.items();var a=null;var c=this.years();FAOSTATExport.json.wheres=[{datatype:"TEXT",column:"D.DomainCode",operator:"=",value:e,ins:[]},{datatype:"TEXT",column:"DOM.DomainCode",operator:"=",value:e,ins:[]},{datatype:"DATE",column:"D.PartnerAreaCode",operator:"=",value:"A2.AreaCode",ins:[]},{datatype:"DATE",column:"D.ReporterAreaCode",operator:"=",value:"A1.AreaCode",ins:[]},{datatype:"DATE",column:"D.DomainCode",operator:"=",value:"DOM.DomainCode",ins:[]},{datatype:"DATE",column:"D.ItemCode",operator:"=",value:"I.ItemCode",ins:[]},{datatype:"DATE",column:"D.ElementCode",operator:"=",value:"E.ElementCode",ins:[]}];if(d!=null){FAOSTATExport.json.wheres[FAOSTATExport.json.wheres.length]={datatype:"TEXT",column:"D.ElementCode",operator:"IN",value:"E.ElementCode",ins:d}}if(a!=null){FAOSTATExport.json.wheres[FAOSTATExport.json.wheres.length]={datatype:"TEXT",column:"D.ReporterAreaCode",operator:"IN",value:"A1.AreaCode",ins:a}}if(b!=null){FAOSTATExport.json.wheres[FAOSTATExport.json.wheres.length]={datatype:"TEXT",column:"D.ItemCode",operator:"IN",value:"I.ItemCode",ins:b}}if(c!=null){FAOSTATExport.json.wheres[FAOSTATExport.json.wheres.length]={datatype:"TEXT",column:"D.Year",operator:"IN",value:"D.Year",ins:c}}FAOSTATExport.json.orderBys=[{column:"D.Year",direction:"DESC"},{column:"A1.AreaName"+FAOSTATSearch.lang,direction:"ASC"},{column:"I.ItemName"+FAOSTATSearch.lang,direction:"ASC"},{column:"E.ElementName"+FAOSTATSearch.lang,direction:"ASC"}];if(FAOSTATExport.limit){FAOSTATExport.json.limit=FAOSTATExport.tablelimit}else{FAOSTATExport.json.limit=null}FAOSTATExport.json.query=null;FAOSTATExport.json.frequency=null;FAOSTATExport.getValueColumnIndex(FAOSTATExport.json)},createJSONStandard:function(){FAOSTATExport.json.selects=[{aggregation:null,column:"DOM.DomainName"+FAOSTATSearch.lang,alias:"Domain"}];FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"A.AreaName"+FAOSTATSearch.lang,alias:"Country"};if(FAOSTATExport.showCodes){FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"D.AreaCode",alias:"Country_Code"}}FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"I.ItemName"+FAOSTATSearch.lang,alias:"Item"};if(FAOSTATExport.showCodes){FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"D.ItemCode",alias:"Item_Code"}}FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"E.ElementName"+FAOSTATSearch.lang,alias:"Element"};if(FAOSTATExport.showCodes){FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"D.ElementCode",alias:"Element_Code"}}FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"D.Year",alias:"Year"};if(FAOSTATExport.showUnits){FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"E.UnitName"+FAOSTATSearch.lang,alias:"Unit"}}FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"D.Value",alias:"Value"};if(FAOSTATExport.showFlags){FAOSTATExport.json.selects[FAOSTATExport.json.selects.length]={aggregation:null,column:"D.Flag",alias:"Flag"}}FAOSTATExport.valueColumnIndex=FAOSTATExport.getValueColumnIndex(FAOSTATExport.json);FAOSTATExport.json.froms=[{column:"Data",alias:"D"},{column:"Item",alias:"I"},{column:"Element",alias:"E"},{column:"Area",alias:"A"},{column:"Domain",alias:"DOM"}];var e=this.domains();var d=this.elemens();var b=this.items();var a=null;var c=this.years();FAOSTATExport.json.wheres=[{datatype:"TEXT",column:"D.DomainCode",operator:"=",value:e,ins:[]},{datatype:"TEXT",column:"DOM.DomainCode",operator:"=",value:e,ins:[]},{datatype:"DATE",column:"D.AreaCode",operator:"=",value:"A.AreaCode",ins:[]},{datatype:"DATE",column:"D.DomainCode",operator:"=",value:"DOM.DomainCode",ins:[]},{datatype:"DATE",column:"D.ItemCode",operator:"=",value:"I.ItemCode",ins:[]},{datatype:"DATE",column:"D.ElementCode",operator:"=",value:"E.ElementCode",ins:[]}];if(d!=null){FAOSTATExport.json.wheres[FAOSTATExport.json.wheres.length]={datatype:"TEXT",column:"D.ElementCode",operator:"IN",value:"E.ElementCode",ins:d}}if(a!=null){FAOSTATExport.json.wheres[FAOSTATExport.json.wheres.length]={datatype:"TEXT",column:"D.AreaCode",operator:"IN",value:"A.AreaCode",ins:a}}if(b!=null){FAOSTATExport.json.wheres[FAOSTATExport.json.wheres.length]={datatype:"TEXT",column:"D.ItemCode",operator:"IN",value:"I.ItemCode",ins:b}}if(c!=null){FAOSTATExport.json.wheres[FAOSTATExport.json.wheres.length]={datatype:"TEXT",column:"D.Year",operator:"IN",value:"D.Year",ins:c}}FAOSTATExport.json.orderBys=[{column:"D.Year",direction:"DESC"},{column:"A.AreaName"+FAOSTATSearch.lang,direction:"ASC"},{column:"I.ItemName"+FAOSTATSearch.lang,direction:"ASC"},{column:"E.ElementName"+FAOSTATSearch.lang,direction:"ASC"}];if(FAOSTATExport.limit){FAOSTATExport.json.limit=FAOSTATExport.tablelimit}else{FAOSTATExport.json.limit=null}FAOSTATExport.json.query=null;FAOSTATExport.json.frequency=null;FAOSTATExport.getValueColumnIndex(FAOSTATExport.json)},getValueColumnIndex:function(b){for(var a=0;a<b.selects.length;a++){if(b.selects[a].column=="D.Value"){return a}}},items:function(){var a=new Array;switch(FAOSTATExport.type){case"items":try{a.push(this.values[0].code);return a}catch(b){return null}return null;break;default:return null}},elemens:function(){var a=new Array;switch(FAOSTATExport.type){case"items":break;case"elements":try{a.push(this.values[0].code);return a}catch(b){return null}return null;break;default:return null}},domains:function(){return this.values[0].dc},years:function(){var b=new Array;var a=$("#search-years-range").rangeSlider("values");for(var c=a.min;c<=a.max;c++){b.push(c)}return b}}}if(!window.FAOSTATSEARCH_STATS){window.FAOSTATSEARCH_STATS={track:function(b,c,a){_gaq.push(["_trackEvent",b,c,a])},search:function(a){FAOSTATSEARCH_STATS.track("SEARCH","Search",a)},showPreview:function(a){FAOSTATSEARCH_STATS.track("SEARCH","Show Preview",a)},downloadData:function(a){FAOSTATSEARCH_STATS.track("SEARCH","Download Data",a)},goToDownload:function(a){FAOSTATSEARCH_STATS.track("SEARCH","Go to Download",a)}}};